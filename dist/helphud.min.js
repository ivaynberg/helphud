/*! helphud 14-05-2019 */
!function(a,b,c,d){"use strict";function e(b){function c(b){var c=b.nodeName.toLowerCase(),e=a.attr(b,"tabindex"),f=null!==e&&e!==d,g=!0;if("input"===c||"select"===c||"textarea"===c||"button"===c||"object"===c){if(g=!b.disabled){var h=a(b).closest("fieldset")[0];h&&(g=!h.disabled)}}else g="a"===c?b.href||f:f;return g}var e=[];return b.find(":visible").each(function(){c(this)&&e.push(this)}),a(e)}function f(f){var g,h=a(b).scrollTop()+a(c).height()/2,i=e(f);i.each(function(){if(g===d)return g=a(this),!0;var b=a(this);Math.abs(h-g.position().top)>Math.abs(h-b.position().top)&&(g=b)}),g&&g.length>0&&g.get(0).focus()}function g(a){return function(b){if(9===b.which){b.stopPropagation();var c=e(a);if(c.length<1)return void b.preventDefault();var d=c.get(0),f=c.get(c.length-1);b.shiftKey||b.target!==f?b.shiftKey&&b.target===d&&(f.focus(),b.preventDefault()):(d.focus(),b.preventDefault())}}}function h(a){var b=a.find("div.helphud-more-mask");b.length&&b.height(a.height());var c=a.find("div.helphud-more-container");c.length&&q(c)}function i(a){var b=a.data("position"),c=a.data("element"),d=c.offset(),e=d.left-n.margin,f=d.top-n.margin,g=c.outerWidth()+2*n.margin,h=c.outerHeight()+2*n.margin;switch(b){case"left":a.css({top:f+h/2-a.outerHeight()/2+"px",left:e-n.barrier-n.stick-a.outerWidth()+"px"});break;case"right":a.css({top:f+h/2-a.outerHeight()/2+"px",left:e+g+n.barrier+n.stick+"px"});break;case"top":a.css({top:f-n.barrier-n.stick-a.outerHeight()+"px",left:e+g/2-a.outerWidth()/2+"px"});break;case"center":a.css({top:f+h/2-a.outerHeight()/2+"px",left:e+g/2-a.outerWidth()/2+"px"});break;default:a.css({top:f+h+n.barrier+n.stick+"px",left:e+g/2-a.outerWidth()/2+"px"})}var i=a.data("pointer");switch(b){case"left":i.css({top:f,left:e-n.stick-n.barrier+"px",width:n.stick+"px",height:h}).addClass("helphud-pointer-left");break;case"right":i.css({top:f,left:e+g+n.barrier+"px",width:n.stick+"px",height:h}).addClass("helphud-pointer-right");break;case"top":i.css({top:f-n.stick-n.barrier+"px",left:e+"px",width:g+"px",height:n.stick+"px"}).addClass("helphud-pointer-top");break;case"center":i.remove();break;default:i.css({top:f+h+n.barrier+"px",left:e+"px",width:g+"px",height:n.stick+"px"}).addClass("helphud-pointer-bottom")}}function j(d){d.height(Math.max(a(b).height(),a(c).height())),u(d),d.find("div.helphud-tooltip").each(function(){i(a(this))}),h(d)}var k=function(){var a,b;1==arguments.length?(b=arguments[0],b instanceof k?(this.left=b.left,this.top=b.top,this.width=b.width,this.height=b.height):(a=b.offset(),this.left=a.left,this.top=a.top,this.width=b.outerWidth(),this.height=b.outerHeight())):4==arguments.length&&(this.left=arguments[0],this.top=arguments[1],this.width=arguments[2],this.height=arguments[3])};k.prototype.explode=function(a){return this.left-=a,this.top-=a,this.width+=2*a,this.height+=2*a,this},k.prototype.intersection=function(a){var b=this,c=a,d=Math.max(b.left,c.left),e=Math.min(b.left+b.width,c.left+c.width);if(e>=d){var f=Math.max(b.top,c.top),g=Math.min(b.top+b.height,c.top+c.height);if(g>=f)return new k(d,f,e-d,g-f)}return null},k.prototype.subtract=function(a){var b,c=this,d=a;if(null===c.intersection(d))return[new k(c)];b=[];var e=c.top,f=c.height,g=c.left+c.width,h=c.top+c.height,i=d.left+d.width,j=d.top+d.height;return d.top>c.top&&(b.push(new k(c.left,c.top,c.width,d.top-c.top)),e=d.top,f-=d.top-c.top),h>j&&(b.push(new k(c.left,j,c.width,h-j)),f=j-e),d.left>c.left&&b.push(new k(c.left,e,d.left-c.left,f)),g>i&&b.push(new k(i,e,g-i,f)),b},k.prototype.toString=function(){return"[Rect left="+this.left+", top="+this.top+", width="+this.width+", height="+this.height+"]"};var l=function(a){a instanceof k||(a=new k(a)),this.rects=[a]};l.prototype.each=function(a){for(var b=0;b<this.rects.length;b++)a.call(this,this.rects[b])},l.prototype.subtract=function(a){var b=[];a instanceof k||(a=new k(a)),this.each(function(c){for(var d=c.subtract(a),e=0;e<d.length;e++)b.push(d[e])}),this.rects=b},l.prototype.toString=function(){var a="[Plane ";return this.each(function(b){a+=b.toString()+" "}),a+"]"};var m=function(a,b){var e;return function(){e&&c.clearTimeout(e),e=c.setTimeout(function(){e=d,b()},a)}},n={margin:3,stick:30,barrier:5},o=function(){var b=a(".helphud-overlay"),c=b.data("trigger"),d=b.data("container");d.removeClass("helphud-shown").trigger(a.Event("helphud-hidden")),b.fadeOut({complete:function(){p.apply(this,arguments)}}),c&&c.focus()},p=function(){a(c).off(".helphud");var b=a(".helphud-overlay");b.data("container");b.find(".helphud-panel").each(function(){var b=a(this),c=b.data("marker");b.toggle(!1),c.before(b).remove()}),b.data("more")&&s(b.data("more")),b.find(".helphud-tooltip,[data-from]").each(function(){var b=a(this),c=a(b.data("from"));b.contents().each(function(){c.append(this)})}),b.remove()},q=function(b){b.css({position:"absolute",top:Math.max(0,(a(c).height()-b.outerHeight())/2+a(c).scrollTop())+"px",left:Math.max(0,(a(c).width()-b.outerWidth())/2+a(c).scrollLeft())+"px"})},r=function(c){var d=b.activeElement,e=a(".helphud-overlay");e.data("more",c);var i=a("<div class='helphud-more-mask'></div>");e.append(i),i.bind("click",s);var j=a("<div class='helphud-more-container'><div class='helphud-more-body' tabindex='0'></div><div class='helphud-more-commands'><a class='helphud-more-close' href='#'>Close</a></div></div>");j.data("trigger",d);var k=j.find(".helphud-more-body"),l=a("<div class='helphud-marker'></div>"),m=a("#"+c);m.trigger(a.Event("helphud-shown")).data("marker",l).before(l).removeClass("helphud-more"),k.append(m),e.append(j),h(e),f(j),j.on("keydown",g(j)),j.on("keydown",function(a){27===a.which&&(s(),a.stopPropagation(),a.preventDefault())})},s=function(){var b=a(".helphud-overlay"),c=a("#"+b.data("more")),d=c.data("marker"),e=b.find(".helphud-more-container"),f=e.data("trigger");c.trigger(a.Event("helphud-hidden")),d.before(c).remove(),c.removeData("marker").addClass("helphud-more"),e.remove(),b.find(".helphud-more-mask").remove(),b.removeData("more"),f&&f.focus()},t=function(){var b=this;v.apply(this,arguments),a(".helphud-overlay").toggle(!1).fadeIn({complete:function(){b.addClass("helphud-shown").trigger(a.Event("helphud-shown"))}})},u=function(b){var c=b.data("elements"),d=(b.data("container"),new l(b));c.each(function(){a(this).data("highlight")!==!1&&d.subtract(new k(a(this)).explode(n.margin))}),b.find("div.helphud-mask").remove(),d.each(function(c){var d=a("<div class='helphud-mask'></div>");d.css({left:c.left,top:c.top,width:c.width,height:c.height}),b.append(d)})},v=function(){var e=b.activeElement,h=a("body"),i=this,k=[];a(this).find("*[data-intro]:visible").each(function(){var b=a(this).attr("data-intro"),c='*[data-intro="'+b+'"]:visible:first';a.inArray(c,k)<0&&k.push(c)});var l=k.length>0?i.find(k.join(",")):i.find("*[data-intro]:visible"),n=a("<div class='helphud-overlay'></div>");n.data("container",i),n.data("elements",l),n.data("trigger",e),h.append(n),n.on("click",function(b){var c,e=a(b.target),f=e.add(e.parentsUntil(".helphud-overlay"));if(f.each(function(){return c=a(this).data("more"),c===d}),c)return r(c),void b.preventDefault();var g=!1;if(f.each(function(){return g=a(this).hasClass("helphud-more-close"),g===!1}),g)return s(),void b.preventDefault();var h=e.hasClass("helphud-ignore")||e.parents(".helphud-ignore").length>0||e.hasClass("helphud-more-container")||e.parents(".helphud-more-container").length>0||e.hasClass("helphud-more-mask");h===!1&&o()}),n.on("keydown",g(n)),n.on("keydown",function(a){27===a.which&&(o(),a.stopPropagation(),a.preventDefault())}),l.each(function(){var b=a(this),c=b.data("position")||"bottom",d=b.data("intro"),e="";d.length>0&&"#"===d.charAt(0)&&(e=" "+d.substring(1));var f=a("<div tabindex='0' class='helphud-tooltip"+e+"' style='left:-10000px'></div>");if(f.data("element",b),f.data("position",c),d.length>0&&"#"===d.charAt(0)?(a(d).contents().each(function(){f.append(this)}),f.data("from",d)):f.html(b.data("intro")),f.contents().length>0){n.append(f);var g=a("<div class='helphud-pointer' ></div>");n.append(g),f.data("pointer",g)}}),i.find(".helphud-panel").each(function(){var b=a(this);if(b.parent().is(":visible")){var c=a("<div class='helphud-marker'></div>");a(this).data("marker",c).before(c).appendTo(n).toggle(!0)}}),j(n),f(n),a(c).on("resize.helphud",m(50,function(){j(n)})).on("scroll.helphud",m(50,function(){j(n)}))},w={show:t,hide:o};a.fn.helphud=function(b){return w[b]?w[b].apply(this,Array.prototype.slice.call(arguments,1)):void a.error("Method "+b+" does not exist on jQuery.helphud")}}(jQuery,document,window);